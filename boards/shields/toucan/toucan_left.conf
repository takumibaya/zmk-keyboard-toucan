CONFIG_ZMK_POINTING=y

# The pinnacle driver also requires this to include sleep code
CONFIG_ZMK_MOUSE=y

CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# Enter deep sleep https://zmk.dev/docs/features/low-power-states
CONFIG_ZMK_SLEEP=y

# Defaults to 15 minutes but 60 minutes is only very slightly more power draw and user experience is much better to not
# have keyboard go to deep sleep (i.e. having to reconenect to bluetooth)
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=3600000

# This is for 'regular' ZMK idle behavior.  Default is 30000 (30 seconds)
# This helps A LOT with touchpad power consumption (only 1.7mA idle vs 2.9mA active).  The only user visible aspect is
# that the touchpad needs 300ms to start seeing touches when next pressed - but this behavior is suppressed if we
# have pressed a keyboard key within the last 30 seconds (highly likely).
# Disabled (0) for testing to isolate trackpad freezing issue
CONFIG_ZMK_IDLE_TIMEOUT=0

# We use this because we need ZMK_PM, PM_DEVICE and ZMK_PM_DEVICE_SUSPEND_RESUME to get proper sleep notifications into the cirque driver
# since we need all that might as well also turn on SOFT_OFF (which implies all these things but adds an optional SOFT_OFF feature)
CONFIG_ZMK_PM_SOFT_OFF=y

# Increase stack sizes to prevent stack overflow when touch_processor + key input + inertial cursor calculations occur simultaneously
# Previous: 4096 → Current: 16384 (4x increase for sufficient headroom)
CONFIG_MAIN_STACK_SIZE=16384
CONFIG_INPUT_THREAD_STACK_SIZE=16384

# --- Pointer Acceleration module (zmk-pointing-acceleration-alpha) ---
CONFIG_ZMK_INPUT_PROCESSOR_ACCELERATION=y

# レベル1 or レベル2 をどちらか片方だけ y にする
# CONFIG_INPUT_PROCESSOR_ACCEL_LEVEL_SIMPLE=y
CONFIG_INPUT_PROCESSOR_ACCEL_LEVEL_STANDARD=y

# とりあえずレベル1のカスタムを使う
CONFIG_INPUT_PROCESSOR_ACCEL_PRESET_CUSTOM=y

# --- Custom Studio RPC (toucan-custom-studioo-rpc module) ---
CONFIG_ZMK_TEMPLATE_FEATURE=y
CONFIG_ZMK_TEMPLATE_FEATURE_STUDIO_RPC=y